<!DOCTYPE html>

<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<title>Recette - Ajout application</title>
		<meta name="generator" content="Bootply" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<!-- Include Bootstrap Datepicker -->
		<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.min.css" />
		<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker3.min.css" />
		<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.min.js"></script>
		
		<link href="css/styles.css" rel="stylesheet">
		<link href="fonts/css/font-awesome.css" rel="stylesheet">
		<link href="fonts/css/font-awesome.min.css" rel="stylesheet">

	</head>
	<body onLoad="getLsDossier()">
		<!-- HEADER -->
		<% include ../header.ejs %>
		<!-- /HEADER -->
		<!-- Menu GAUCHE -->
		<% var disable = "";
		if(req.session.droit == 0){
			disable = "hidden";}
		%>

		<!-- CONTAINER -->
		<div class="container-fluid">
			<div class="row">
				<div id="menuCenter">
					<!-- avant container -->
          
           <!-- include menu Ã  gauche -->
					<!-- /avant container-->

					<div class="row"> <!-- CONTAINER -->
						<div class="">
							<div class="page-title">
								  <div class="title_left">
									<h2>
									  Fiche recette
									  <small>
										Ajout test de l'application " <%= applications.nom_application %> "
									  </small>
									</h2>
								  </div>
							</div>
							</br>
							<div class="clearfix"></div>

							<div class="row">
								<div class="col-md-12 col-sm-12 col-xs-12">
									<div class="x_panel">
										<div class="x_content">
											<div class="x_panel">
												<div class="x_title">
													<div class="clearfix"></div>
												</div>
												<div class="x_content">
													<br />
													<form method="POST" action="/ajoutTestAppMulti" id="demo-form2" data-parsley-validate class="form-horizontal form-label-left">
														<input type='text'  id='nb_test' name='nb_test' required='required' class='form-control col-md-7 col-xs-12 hidden' value="">
														<div id="form-0">
															<!--<div class="form-group">
															  <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name" >Nom du test<span class="required"></span>
															  </label>
															  <div class="col-md-6 col-sm-6 col-xs-12">
																<input type="text" id="nomTest-1" required="required" name="nomTest-1" class="form-control col-md-7 col-xs-12">
																<input type="hidden" value="<%= applications.id_application %>" id="idApplication" name="idApplication" class="form-control col-md-7 col-xs-12">
															  </div>
															</div>
															<div class="form-group">
																<label class="control-label col-md-3 col-sm-3 col-xs-12" for="last-name">Type du test<span class="required"></span>
																</label>
																<div class="col-md-6 col-sm-6 col-xs-12">
																  <select class="select2_single form-control" tabindex="-1" id="typeTest-1" name="typeTest-1">
																	<% types.forEach(function(type){ %>
																	  <option value="<%= type.id_type_test %>" ><%= type.nom_type_test %></option>
																	<% }); %>
																  </select>
																</div>
															</div>-->
															<div class="form-group">
															  <div class="col-md-6 col-sm-6 col-xs-12 col-md-offset-3">
																<a href="#" onclick= "addTest();" class="col-md-12 col-sm-12 col-xs-12"><i class="fa fa-plus fa-3x"></i>(Ajouter test)</a>
															  </div>
															</div>
														</div>
														<div class="form-group">
														  <div class="col-md-6 col-sm-6 col-xs-12 col-md-offset-3">
															<button type="submit" class="btn btn-primary waves-attach" data-backdrop="static" data-toggle="modal" href="#doc_dialog_example_alert" id="doc_snackbar_toggle_1">Ajouter</button>
														  </div>
														</div>
													</form>
												</div>
											</div>
										</div>
									</div>
								</div>
								<br/>
								<br/>
								<br/>
								<br/>

							</div>
						</div>
					</div>
					
					<!-- Notifications -->
					<% include ../notifications.ejs %>
					<!-- /Notifications -->
				</div>
			</div>
		</div>
		<!-- /CONTAINER -->
		
		<!-- Footer -->
		<center><% include ../footer.ejs %></center>
		<!-- /Footer -->

		<!-- script  -->
		<script src="/js/base.min.js"></script>
		<script src="/js/project.min.js"></script>

		<script src="js/jquery.min.js"></script>

		<script src="js/bootstrap.min.js"></script>
		<script src="js/jquery-ui.min.js"></script>
		<script src="js/scripts.js"></script>
		
		<!-- DOSSIER ETAPE APPLICATION -->
		<script src="js/dossierEtapeApp.js"></script>
		
		<script src="js/bootstrap-datepicker.js"></script>
		
		<script>
            var i = 1;
            function addTest(){
                
                $("<div class='form-group'>"+
                    "<label class='control-label col-md-3 col-sm-3 col-xs-12' for='first-name' >Nom du test - "+i+"<span class='required'></span></label>"+
					 "<div class='col-md-6 col-sm-6 col-xs-12'>"+
						"<input type='text' id='nomTest-"+i+"' required='required' name='nomTest-"+i+"' class='form-control col-md-7 col-xs-12'>"+
					 "</div>"+
				  "</div>"+
					
					"<div class='form-group'>"+
						"<label class='control-label col-md-3 col-sm-3 col-xs-12' for='first-name' >Type du test - "+i+"<span class='required'></span></label>"+
						 "<div class='col-md-6 col-sm-6 col-xs-12'>"+
							"<select class='select2_single form-control' tabindex='-1' id='typeTest-"+i+"' name='typeTest-"+i+"'>"+
								"<% types.forEach(function(type){ %>"+
								  "<option value='<%= type.id_type_test %>' ><%= type.nom_type_test %></option>"+
								"<% }); %>"+
						 "</div>"+
                    "</div></br></br></br>")
                 .attr("id", "form-"+i)
                 .attr("name", "form-"+i)
                 .appendTo("#form-0");
                 //.prependTo("#form-"+(i-1));
                  /*$( function() {
                    $( "#delai-"+i ).datepicker();
                  } );*/
				$("#nb_test").val(i);
                i++;
            };
			
			function get_nb_test(){
                alert("valeur de i = "+i);
				/*var j;
				for(j=1; j<i;j++){
					alert("Valeur "+j+"   ===>  "+document.getElementById('nom-'+j).value);
					var libelle = document.getElementById('nom-'+j).value;
					var entree = document.getElementById('entree-'+j).value;
					var sortie = document.getElementById('sortie-'+j).value;
					var delai = document.getElementById('delai-'+j).value;
					//window.location = "ajoutApplicationFonctionnalite?idFonctionnalite=";
				}*/
            };
        </script>
	</body>
</html>
